<div class="container-fluid">
  <div class="row">
    <div class="col-12">
      <mat-card class="mat-elevation-z8">
        <mat-card-header>
          <mat-card-title>Attendance Management</mat-card-title>
        </mat-card-header>
        <mat-card-content>

          <!-- Tabs -->
          <mat-tab-group>

            <!-- Presents Tab -->
            <mat-tab label="Presents">
              <!-- Filter Section -->
              <div class="filter-section mb-3 mt-3">
                <div class="row align-items-center">
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="w-100">
                      <mat-label>Player Name</mat-label>
                      <input matInput [(ngModel)]="presentFilters.playerName" (input)="applyPresentFilter()" placeholder="Enter player name">
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="w-100">
                      <mat-label>From Date</mat-label>
                      <input matInput [matDatepicker]="fromDatePickerPresent" (dateChange)="fetchPresents()" [(ngModel)]="presentFilters.fromDate">
                      <mat-datepicker-toggle matSuffix [for]="fromDatePickerPresent"></mat-datepicker-toggle>
                      <mat-datepicker #fromDatePickerPresent></mat-datepicker>
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="w-100">
                      <mat-label>To Date</mat-label>
                      <input matInput [matDatepicker]="toDatePickerPresent" (dateChange)="fetchPresents()" [(ngModel)]="presentFilters.toDate">
                      <mat-datepicker-toggle matSuffix [for]="toDatePickerPresent"></mat-datepicker-toggle>
                      <mat-datepicker #toDatePickerPresent></mat-datepicker>
                    </mat-form-field>
                  </div>
                  <div class="col-md-3 text-end">
                    <button mat-raised-button  class="add-button" (click)="markPresent()">
                      Mark Attendance
                    </button>
                  </div>
                </div>
              </div>

              <!-- Present List Grid -->
              <mtx-grid
                [data]="presentList"
                [columns]="presentColumns"
                [loading]="false"
                [multiSelectable]="false"
                [pageSize]="10"
                [pageSizeOptions]="[10, 25, 50, 100]"
                [showToolbar]="false"
                [columnResizable]="true">
              </mtx-grid>
            </mat-tab>

            <!-- Absents Tab -->
            <mat-tab label="Absents">
              <!-- Filter Section -->
              <div class="filter-section mb-3 mt-3">
                <div class="row align-items-center">
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="w-100">
                      <mat-label>Player Name</mat-label>
                      <input matInput [(ngModel)]="absentFilters.playerName" (input)="applyAbsentFilter()" placeholder="Enter player name">
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="w-100">
                      <mat-label>From Date</mat-label>
                      <input matInput [matDatepicker]="fromDatePickerAbsents" (dateChange)="fetchabsents()" [(ngModel)]="absentFilters.fromDate">
                      <mat-datepicker-toggle matSuffix [for]="fromDatePickerAbsents"></mat-datepicker-toggle>
                      <mat-datepicker #fromDatePickerAbsents></mat-datepicker>
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="w-100">
                      <mat-label>To Date</mat-label>
                      <input matInput [matDatepicker]="toDatePickerAbsents" (dateChange)="fetchabsents()" [(ngModel)]="absentFilters.toDate">
                      <mat-datepicker-toggle matSuffix [for]="toDatePickerAbsents"></mat-datepicker-toggle>
                      <mat-datepicker #toDatePickerAbsents></mat-datepicker>
                    </mat-form-field>
                  </div>
                  <div class="col-md-3 text-end">
                    <button mat-raised-button class="add-button" (click)="openConfirmDialog()">
                      Mark Absents
                    </button>
                  </div>
                </div>
              </div>

              <!-- Absent List Grid -->
              <mtx-grid
                [data]="absentList"
                [columns]="absentColumns"
                [loading]="false"
                [multiSelectable]="false"
                [pageSize]="10"
                [pageSizeOptions]="[10, 25, 50, 100]"
                [showToolbar]="false"
                [columnResizable]="true">
              </mtx-grid>
            </mat-tab>

          </mat-tab-group>

        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
